{
    "version": "1.11.0",
    "description": "Jellyfin Desktop Client based on Plex Media Player ",
    "homepage": "https://jellyfin.org",
    "license": "GPL-2.0",
    "architecture": {
        "64bit": {
            "url": "https://github.com/jellyfin/jellyfin-media-player/releases/download/v1.11.0/JellyfinMediaPlayer-1.11.0-windows-x64.exe",
            "hash": "ac3095aab00bb99336f8a3bd30e89cb54b2c59e523c7da1d735bb2ad81f2cded"
        },
        "32bit": {
            "url": "https://github.com/jellyfin/jellyfin-media-player/releases/download/v1.11.0/JellyfinMediaPlayer-1.11.0-windows-x86.exe",
            "hash": "116ce71910d4fbb0b492766cffbdb274bb312a6d84cd977c9aa5229ee3c7c91f"
        }
    },
    "checkver": {
        "github": "https://github.com/jellyfin/jellyfin-media-player"
    },
    "suggest": {
        "vcredist": "extras/vcredist2022"
    },
    "shortcuts": [
        [
            "JellyfinMediaPlayer.exe",
            "Jellyfin Media Player"
        ]
    ],
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/jellyfin/jellyfin-media-player/releases/download/v$version/JellyfinMediaPlayer-$version-windows-x64.exe"
            },
            "32bit": {
                "url": "https://github.com/jellyfin/jellyfin-media-player/releases/download/v$version/JellyfinMediaPlayer-$version-windows-x86.exe"
            }
        }
    },
    "installer": {
        "script": [
            "$setup_file = (Get-ChildItem -Path $dir -Filter *.exe)[0].name",
            "Expand-DarkArchive \"$dir\\$setup_file\" \"$dir\\_tmp\"",
            "(Get-ChildItem \"$dir\\_tmp\\AttachedContainer\\*.msi\").FullName | ForEach-Object {",
            "    # appendpath.msi does not contain any file, which causes 'msiexec /a' to fail",
            "    if($((Get-Item $_).Basename) -eq 'appendpath') { return }",
            "    Expand-MsiArchive $_ \"$dir\" ",
            "}",
            "Copy-Item -Path \"$dir\\Msi\\*\" -Destination $dir -Recurse -Force",
            "Remove-Item \"$dir\\$setup_file\", \"$dir\\_tmp\", \"$dir\\Msi\" -Recurse -Force"
        ]
    }
}
